
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no"
    />

    <title>Mario Jump</title>

    <link rel="stylesheet" href="style.css" />

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script src="java.js" defer></script>
  </head>
  <body>
    <!-- ===== NOME ===== -->
    <div class="game-over-modal" id="nameModal" style="display: flex" role="dialog" aria-labelledby="nameModalTitle" aria-modal="true">
      <div class="modal-content">
        <h2 id="nameModalTitle">ğŸ® Mario Jump</h2>
        <p>Digite seu nome para comeÃ§ar</p>

        <input
          id="playerNameInput"
          type="text"
          maxlength="12"
          placeholder="Seu nome"
          aria-label="Nome do jogador"
          aria-required="true"
          autocomplete="off"
        />

        <div class="modal-buttons">
          <button id="confirmName" aria-label="Confirmar nome e comeÃ§ar o jogo">ComeÃ§ar</button>
        </div>
      </div>
    </div>

    <!-- ===== HUD ===== -->
    <div class="score-board" role="status" aria-live="polite">
      <div>ğŸƒâ€â™‚ï¸ <strong id="score" aria-label="PontuaÃ§Ã£o atual">0</strong></div>
      <div>ğŸ§± <strong id="cones" aria-label="Canos pulados">0</strong></div>
      <div>ğŸ† <strong id="highScore" aria-label="Recorde pessoal">0</strong></div>
      <div>ğŸª™ <strong id="coins" aria-label="Moedas coletadas">0</strong></div>
    </div>
    
    <!-- ===== PAUSE BUTTON ===== -->
    <button id="pauseButton" class="pause-button" aria-label="Pausar jogo">â¸ï¸</button>

    <!-- ===== RANKING ===== -->
    <div class="ranking-board" role="complementary" aria-label="Ranking dos melhores jogadores">
      <h4>ğŸ† Top 5</h4>
      <ol id="rankingList" aria-live="polite">
        <li>Carregando...</li>
      </ol>
    </div>

    <!-- ===== INDICADOR DE PODER ATIVO ===== -->
    <div class="active-power-hud" id="activePowerHud" role="status" aria-live="polite">
      <span id="activePowerIcon"></span>
      <span id="activePowerName"></span>
      <span id="activePowerTimer"></span>
    </div>

    <!-- ===== INDICADORES DE BENEFÃCIOS ===== -->
    <div class="benefits-hud" id="benefitsHud">
      <div class="benefit-item" id="shieldIndicator" style="display: none;">
        <span class="benefit-icon">ğŸ›¡ï¸</span>
        <span class="benefit-name">Escudo</span>
      </div>
      <div class="benefit-item" id="reviveIndicator" style="display: none;">
        <span class="benefit-icon">ğŸ’š</span>
        <span class="benefit-name">Reviver</span>
      </div>
      <div class="benefit-item" id="checkpointIndicator" style="display: none;">
        <span class="benefit-icon">ğŸ’¾</span>
        <span class="benefit-name">Checkpoint</span>
      </div>
    </div>

    <!-- ===== GAME ===== -->
    <div class="game-board" role="main" aria-label="Ãrea do jogo">
      <!-- Ãrea de toque mobile -->
      <div class="touch-zone" aria-label="Toque para pular" role="button" tabindex="0"></div>

      <!-- Fundo Procedural -->
      <div class="background-layer" aria-hidden="true">
        <div class="mountains-container"></div>
        <div class="trees-container"></div>
        <div class="bushes-container"></div>
      </div>

      <img src="mario.gif" class="mario" alt="Personagem Mario" role="img" />
      <img src="pipe.png" class="pipe" alt="ObstÃ¡culo cano" role="img" />
      <img src="clouds.png" class="clouds" alt="Nuvens decorativas" role="img" aria-hidden="true" />
      
      <!-- Container para moedas -->
      <div class="coins-container" id="coinsContainer"></div>
    </div>

    <!-- ===== GAME OVER ===== -->
    <div class="game-over-modal" id="gameOverModal" role="dialog" aria-labelledby="gameOverTitle" aria-modal="true">
      <div class="modal-content">
        <h2 id="gameOverTitle">ğŸ Fim de jogo</h2>

        <p>ğŸƒâ€â™‚ï¸ Score: <strong id="finalScore" aria-label="PontuaÃ§Ã£o final">0</strong></p>
        <p>ğŸ§± Canos: <strong id="finalCones" aria-label="Total de canos pulados">0</strong></p>
        <p>ğŸ† Recorde: <strong id="finalHighScore" aria-label="Seu recorde pessoal">0</strong></p>

        <div class="modal-buttons">
          <button id="useCheckpoint" class="checkpoint-button" style="display: none;" aria-label="Usar checkpoint">ğŸ’¾ Usar Checkpoint</button>
          <button id="restartGame" aria-label="Reiniciar o jogo">Reiniciar</button>
          <button id="openShopGameOver" class="shop-button" aria-label="Abrir loja">ğŸ›’ Loja</button>
          <button id="shareGame" aria-label="Compartilhar resultado">Compartilhar</button>
        </div>
      </div>
      
      <!-- LOJA NO GAME OVER -->
      <div class="shop-menu" id="shopMenuGameOver" style="display: none;">
        <div class="shop-header">
          <h2>ğŸ›’ Loja de Upgrades</h2>
          <p class="shop-coins">Moedas: <strong id="shopCoinsDisplayGameOver">0</strong> ğŸª™</p>
          <button id="closeShopGameOver" class="close-shop">âŒ</button>
        </div>
        
        <div class="shop-items">
          <!-- Pulo mais alto -->
          <div class="shop-item" data-upgrade="highJump" data-context="gameover">
            <div class="item-icon">â¬†ï¸</div>
            <div class="item-info">
              <h3>Pulo Mais Alto</h3>
              <p>Aumenta a altura do pulo</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 10</span>
                <button class="buy-btn" data-upgrade="highJump" data-context="gameover">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Invencibilidade -->
          <div class="shop-item" data-upgrade="starPower" data-context="gameover">
            <div class="item-icon">â­</div>
            <div class="item-info">
              <h3>Estrela InvencÃ­vel</h3>
              <p>Invencibilidade por 5s</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 25</span>
                <button class="buy-btn" data-upgrade="starPower" data-context="gameover">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Voo -->
          <div class="shop-item" data-upgrade="wingPower" data-context="gameover">
            <div class="item-icon">ğŸª½</div>
            <div class="item-info">
              <h3>Asas de Voo</h3>
              <p>Voa por 7 segundos</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 22</span>
                <button class="buy-btn" data-upgrade="wingPower" data-context="gameover">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Escudo -->
          <div class="shop-item" data-upgrade="shield" data-context="gameover">
            <div class="item-icon">ğŸ›¡ï¸</div>
            <div class="item-info">
              <h3>Escudo Protetor</h3>
              <p>Protege de 1 colisÃ£o</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 18</span>
                <button class="buy-btn" data-upgrade="shield" data-context="gameover">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Checkpoint -->
          <div class="shop-item" data-upgrade="checkpoint" data-context="gameover">
            <div class="item-icon">ğŸ’¾</div>
            <div class="item-info">
              <h3>Checkpoint PortÃ¡til</h3>
              <p>Salva sua pontuaÃ§Ã£o atual</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 35</span>
                <button class="buy-btn" data-upgrade="checkpoint" data-context="gameover">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Reviver -->
          <div class="shop-item" data-upgrade="revive" data-context="gameover">
            <div class="item-icon">ğŸ’š</div>
            <div class="item-info">
              <h3>Reviver InstantÃ¢neo</h3>
              <p>Revive agora e continue! (1 uso)</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 50</span>
                <button class="buy-btn" data-upgrade="revive" data-context="gameover">Comprar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== TUTORIAL ===== -->
    <div class="tutorial-overlay" id="tutorialOverlay" role="dialog" aria-labelledby="tutorialTitle" aria-modal="true">
      <div class="tutorial-content">
        <h2 id="tutorialTitle">ğŸ® Como Jogar</h2>
        <p>ğŸ–±ï¸ Pressione <strong>ESPAÃ‡O</strong> ou <strong>TOQUE NA TELA</strong> para pular</p>
        <p>ğŸ§± Desvie dos canos para sobreviver</p>
        <p>âš¡ A velocidade aumenta a cada 10 canos</p>
        <p>â¸ï¸ Pressione <strong>P</strong> para pausar</p>
        <button id="startTutorial" aria-label="Iniciar o jogo">ComeÃ§ar!</button>
      </div>
    </div>

    <!-- ===== PAUSE ===== -->
    <div class="pause-overlay" id="pauseOverlay" role="dialog" aria-labelledby="pauseTitle" aria-modal="true">
      <div class="pause-content">
        <h2 id="pauseTitle">â¸ï¸ Pausado</h2>
        <p>Pressione <strong>P</strong> ou clique no botÃ£o para continuar</p>
        
        <div class="pause-buttons">
          <button id="resumeGame" aria-label="Continuar o jogo">Continuar</button>
          <button id="openShop" class="shop-button" aria-label="Abrir loja">ğŸ›’ Loja</button>
          <button id="quitGame" aria-label="Sair do jogo">Sair</button>
        </div>
      </div>
      
      <!-- LOJA -->
      <div class="shop-menu" id="shopMenu" style="display: none;">
        <div class="shop-header">
          <h2>ğŸ›’ Loja de Upgrades</h2>
          <p class="shop-coins">Moedas: <strong id="shopCoinsDisplay">0</strong> ğŸª™</p>
          <button id="closeShop" class="close-shop">âŒ</button>
        </div>
        
        <div class="shop-items">
          <!-- Pulo mais alto -->
          <div class="shop-item" data-upgrade="highJump">
            <div class="item-icon">â¬†ï¸</div>
            <div class="item-info">
              <h3>Pulo Mais Alto</h3>
              <p>Aumenta a altura do pulo</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 10</span>
                <button class="buy-btn" data-upgrade="highJump">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Invencibilidade -->
          <div class="shop-item" data-upgrade="starPower">
            <div class="item-icon">â­</div>
            <div class="item-info">
              <h3>Estrela InvencÃ­vel</h3>
              <p>Invencibilidade por 5s</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 25</span>
                <button class="buy-btn" data-upgrade="starPower">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Voo -->
          <div class="shop-item" data-upgrade="wingPower">
            <div class="item-icon">ğŸª½</div>
            <div class="item-info">
              <h3>Asas de Voo</h3>
              <p>Voa por 7 segundos</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 22</span>
                <button class="buy-btn" data-upgrade="wingPower">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Escudo -->
          <div class="shop-item" data-upgrade="shield">
            <div class="item-icon">ğŸ›¡ï¸</div>
            <div class="item-info">
              <h3>Escudo Protetor</h3>
              <p>Protege de 1 colisÃ£o</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 18</span>
                <button class="buy-btn" data-upgrade="shield">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Checkpoint -->
          <div class="shop-item" data-upgrade="checkpoint">
            <div class="item-icon">ğŸ’¾</div>
            <div class="item-info">
              <h3>Checkpoint PortÃ¡til</h3>
              <p>Salva sua pontuaÃ§Ã£o atual</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 35</span>
                <button class="buy-btn" data-upgrade="checkpoint">Comprar</button>
              </div>
            </div>
          </div>
          
          <!-- Reviver -->
          <div class="shop-item" data-upgrade="revive">
            <div class="item-icon">ğŸ’š</div>
            <div class="item-info">
              <h3>Reviver InstantÃ¢neo</h3>
              <p>Revive no mesmo lugar (1 uso)</p>
              <div class="item-footer">
                <span class="item-cost">ğŸª™ 50</span>
                <button class="buy-btn" data-upgrade="revive">Comprar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== LOADING ===== -->
    <div class="loading-overlay" id="loadingOverlay" role="status" aria-live="polite" aria-label="Carregando ranking">
      <div class="loading-spinner" aria-hidden="true"></div>
      <p>Carregando ranking...</p>
    </div>
  </body>
</html>